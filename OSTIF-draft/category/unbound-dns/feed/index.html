<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Unbound DNS &#8211; OSTIF.org</title>
	<atom:link href="https://ostif.org/category/unbound-dns/feed/" rel="self" type="application/rss+xml" />
	<link>https://ostif.org</link>
	<description>Securing Open Source for the World</description>
	<lastBuildDate>Sat, 19 Dec 2020 00:21:23 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	

<image>
	<url>https://ostif.org/wp-content/uploads/2021/01/ostiflogo-blue.png</url>
	<title>Unbound DNS &#8211; OSTIF.org</title>
	<link>https://ostif.org</link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>Our Audit of Unbound DNS by X41 D-Sec &#8211; Full Results</title>
		<link>https://ostif.org/our-audit-of-unbound-dns-by-x41-d-sec-full-results/</link>
		
		<dc:creator><![CDATA[ostifadmin]]></dc:creator>
		<pubDate>Wed, 11 Dec 2019 13:47:26 +0000</pubDate>
				<category><![CDATA[Audits]]></category>
		<category><![CDATA[News]]></category>
		<category><![CDATA[Open Source]]></category>
		<category><![CDATA[Unbound DNS]]></category>
		<category><![CDATA[X41-Dsec]]></category>
		<guid isPermaLink="false">https://ostif.org/?p=2088</guid>

					<description><![CDATA[First, we&#8217;d like to thank everyone in the community who donated to the cause and made this happen. Our crucial work does not happen without donations from people who care about our cause. If security and privacy on the web matter to you, there&#8217;s a huge number of ways to support us. You can add [&#8230;]]]></description>
										<content:encoded><![CDATA[<p><strong>First, we&#8217;d like to thank everyone in the community who donated to the cause and made this happen. Our crucial work does not happen without donations from people who care about our cause. If security and privacy on the web matter to you, there&#8217;s a huge number of ways to support us. You can add us to Amazon Smile for free and they will donate a small percentage of their profits to us. You can donate directly using a dozen different methods on the site. You can tell your employer about us. You can go to the community and spread the word. You can volunteer and get involved. Even following our work on social media helps us spread the word. On Twitter we are <a href="https://twitter.com/OSTIFofficial">@ostifofficial</a> and on Reddit we are <a href="https://www.reddit.com/user/ostifofficial/">/u/ostifofficial</a> .</strong></p>
<hr />
<h1>The project: <a href="https://nlnetlabs.nl/projects/unbound/about/">Unbound DNS</a></h1>
<p>From the Unbound website: &#8220;Unbound is a validating, recursive, caching DNS resolver. It is designed to be fast and lean and incorporates modern features based on open standards.To help increase online privacy, Unbound supports DNS-over-TLS which allows clients to encrypt their communication. In addition, it supports various modern standards that limit the amount of data exchanged with authoritative servers. These standards do not only improve privacy but also help making the DNS more robust. The most important are Query Name Minimization, the Aggressive Use of DNSSEC-Validated Cache and support for authority zones, which can be used to load a copy of the root zone.Unbound runs on FreeBSD, OpenBSD, NetBSD, MacOS, Linux and Microsoft Windows, with packages available for most platforms. It is included in the base-system of FreeBSD and OpenBSD and in the standard repositories of most Linux distributions. Installation and configuration is designed to be easy. Setting up a resolver for your machine or network can be done with only a few lines of configuration.It is free, open source software under the BSD license. The guiding principles for our product development roadmap are first and foremost the security and privacy of the user. In addition, all functionality must be backed by well established open standards. We continually improve the functionality of Unbound for all of our users&#8230;&#8221;</p>
<hr />
<h1>The Scope</h1>
<p>The audit was designed to locate bugs and weaknesses in design that impact the security of servers running Unbound DNS. A combination of manual code auditing, dynamic analysis using a custom fuzzing harness, and<br />
static analysis was used to perform the audit.</p>
<hr />
<h1>The Broad Strokes</h1>
<p>Both the audit team and the Unbound team are happy with the results as they are shown. This project led to a total of 48 changes in unbound that either improve security or fix minor issues that could lead to future security problems as the application grows and evolves over time. The consensus is that Unbound has greatly benefited from the work and that the users and applications that depend on it are now safer than they were prior to our work. A patch will be released tomorrow, December 12th 2019. A release candidate patch addressing all outstanding issues is here: <a href="https://nlnetlabs.nl/pipermail/unbound-users/2019-December/011930.html">https://nlnetlabs.nl/pipermail/unbound-users/2019-December/011930.html</a> all other outstanding issues were corrected in versions 1.9.4 and 1.9.5.</p>
<p><strong><span style="color: #00ff00;">FIXED</span></strong> = A patch was applied that corrects this issue.<br />
<strong><span style="color: #0000ff;">SOLVED</span></strong> = Clarification given by the Unbound team indicates that the issue does not need patching for other reasons.<br />
<strong><span style="color: #ff6600;">DISPUTED</span></strong> = The Unbound team disagrees with the assessment.</p>
<p>If an issue does not have a status, it is because the issue is still being discussed between the teams. It does not indicate a dispute, only that OSTIF does not know the current status. The status of the issues will be updated here as we learn more about them.</p>
<hr />
<h1>The Detailed Audit Results</h1>
<p>One Critical, Five High, and Five Medium severity issues were found, with an additional 39 issues that were rated as low or informational severity.</p>
<p><strong><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-18934">CVE-2019-18934</a> &#8211; <span style="color: #993366;">CRITICAL</span> &#8211; Shell Injection in IPSECMOD<br />
</strong><span style="color: #00ff00;">FIXED in commit 09845779d5f2c96e3064ff398cad65c08357cfbf </span></p>
<p>When using the IPSECMOD module, a malicious DNS response from a client can inject commands into the host machine.</p>
<p><strong><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-16866">CVE-2019-16866</a> &#8211; <span style="color: #ff0000;">HIGH</span> &#8211; Uninitialized Memory in worker_handle_request()<br />
</strong><span style="color: #00ff00;">FIXED in commit b60c4a472c856f0a98120b7259e991b3a6507eb5</span></p>
<p>A use-after-free issue in worker_handle_request() can lead to remote code execution or denial of service.</p>
<p><strong><span style="color: #ff0000;">HIGH</span> &#8211; Config Injection in create_unbound_ad_servers.sh<br />
</strong><span style="color: #00ff00;">FIXED in commit f887552763477a606a9608b0f6b498685e0f6587</span></p>
<p>The bash script in contrib/create_unbound_ad_servers.sh does not properly sanitize the retrieved data before it is outputted into a configuration file. This allows to modify the configuration by having several statements on a single line. Since the input is retrieved via unencrypted, unauthenticated HTTP an attacker on the wire might be able to abuse this issue.</p>
<p><strong><span style="color: #ff0000;">HIGH</span> &#8211; Integer Overflow in Regional Allocator<br />
</strong><span style="color: #00ff00;">FIXED in commit 226298bbd36f1f0fd9608e98c2ae85988b7bbdb8</span></p>
<p>When the regional allocator in util/regional.c is used to allocate memory via regional_alloc() integer overflows can happen. If size is big enough the first call to malloc() will have a parameter that is<br />
smaller than expected. Furthermore the macro ALIGN_UP could overflow causing r-&gt;<em>available</em> to point at a bad memory location.</p>
<p><strong><span style="color: #ff0000;">HIGH</span> &#8211; Integer Overflow in sldns_str2wire_dname_buf_origin()<br />
</strong><span style="color: #00ff00;">FIXED in commit a3545867fcdec50307c776ce0af28d07046a52dd</span></p>
<p>The function sldns_str2wire_dname_buf_origin() in sldns/str2wire.c converts a string to dname wireformat, concatenating with origin when the domain name is relative. Several checks are performed to avoid a buffer overflow when writing the result into buf. Nevertheless, when dlen + origin_len is bigger than sizeof(size_t), the calculation will wrap around, resulting in the value of the addition being smaller than the operands. When this happens, the checks might be bypassed and could lead to memmove() writing out of bounds. An out of bounds write produces unexpected results and can usually be abused by an attacker to gain remote code execution.</p>
<p><strong><span style="color: #ff0000;">HIGH</span> &#8211; Out of Bounds Write in sldns_bget_token_par()<br />
</strong><span style="color: #00ff00;">FIXED in commit fa23ee8f31ba9a018c720ea822faaee639dc7a9c</span></p>
<p>The function sldns_bget_token_par() in sldns/parse.c returns a token from a buffer. While parsing the input buffer, char by char, certain inputs will result in a write and increment to the token buffer without checking boundary limits. A specially crafted input could repeatedly trigger this unbounded write and eventually perform a write outside of token â€™s bounds. An out of bounds write produces unexpected results and can usually be abused by an attacker to gain remote code execution.</p>
<p><strong><span style="color: #ff9900;">MEDIUM</span> &#8211; Assert Causing DoS in synth_cname()<br />
</strong><span style="color: #00ff00;">FIXED in commit f5e06689d193619c57c33270c83f5e40781a261d</span></p>
<p>It is possible to trigger an log_assert() in synth_cname() by sending invalid packets to the server. This issue should not be fixed by disabling asserts, as this raises an additional possible integer underflow issue. If asserts are disabled during compilation, this might lead to an out of bounds write in dname_pkt_copy() since the computation alias+(qnamelen-dname_rrset-&gt;dname_len) might become negative due to an underflow.</p>
<p><strong><span style="color: #ff9900;">MEDIUM</span> &#8211; Assert Causing DoS in dname_pkt_copy()<br />
</strong><span style="color: #00ff00;">FIXED in commit d2eb78e871153f22332d30c6647f3815148f21e5</span></p>
<p>It is possible to trigger an assert() in dname_pkt_copy() by sending invalid packets to the server.</p>
<p><strong><span style="color: #ff9900;">MEDIUM</span> &#8211; Integer Overflows in Size Calculations<br />
</strong><span style="color: #00ff00;">FIXED in commit 02080f6b180232f43b77f403d0c038e9360a460f</span></p>
<p>In different files and functions sizes are calculated that are later passed on to different allocation functions such as malloc(). Several of these cases are not protected against integer overflows.</p>
<p><strong><span style="color: #ff9900;">MEDIUM</span> &#8211; Insufficient Handling of Compressed Names in dname_pkt_copy()<br />
</strong><span style="color: #00ff00;">FIXED in commit 2d444a5037acff6024630b88092d9188f2f5d8fe</span></p>
<p>In dname_pkt_copy() an infinite loop can be caused by the input data \xC0\x00. This will cause the LABEL_IS_PTR macro to return true and set lablen to 0, causing the checking to start at the beginning of the input again. Additionally, the log_assert() can be triggered quite easily, leading to another DoS.</p>
<p><strong><span style="color: #ff9900;">MEDIUM</span> &#8211; Out of Bound Write Compressed Names in rdata_copy()<br />
</strong><span style="color: #00ff00;">FIXED in commit 6c3a0b54ed8ace93d5b5ca7b8078dc87e75cd640</span></p>
<p>In rdata_copy(), if the len parameter becomes bigger than the size of the packet (pkt_len ), the memmove() is performed before the check in log_assert().<em> It seems that, due to the fact that packets are first parsed by other functions that check for</em><br />
<em>unbounded pointers, this might not be exploitable.</em></p>
<p><strong>This is a short synopsis of the full report below which contains PoC examples, code snippets, and an additional 70 pages of analysis and issues that were identified to improve code quality and harden Unbound further against attack.</strong></p>
<hr />
<h1>The Full Audit Report for Unbound DNS by X41 D-Sec</h1>
<p><a href="https://ostif.org/wp-content/uploads/2019/12/X41-Unbound-Security-Audit-2019-Final-Report.pdf">X41-Unbound-Security-Audit-2019-Final-Report</a></p>
<p>REMEMBER THAT THIS WORK DOES NOT GET DONE WITHOUT COMMUNITY SUPPORT. <a href="https://ostif.org/donate-to-ostif/">DONATE</a>, TALK ABOUT OUR WORK, AND GET INVOLVED!</p>
<p>&nbsp;</p>
<h2></h2>
<p>&nbsp;</p>
<p>&nbsp;</p>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>The Audit of Unbound DNS is Fully Funded</title>
		<link>https://ostif.org/the-audit-of-unbound-dns-is-fully-funded/</link>
		
		<dc:creator><![CDATA[ostifadmin]]></dc:creator>
		<pubDate>Tue, 18 Jun 2019 18:06:18 +0000</pubDate>
				<category><![CDATA[Financial]]></category>
		<category><![CDATA[News]]></category>
		<category><![CDATA[Security]]></category>
		<category><![CDATA[Unbound DNS]]></category>
		<category><![CDATA[X41-Dsec]]></category>
		<guid isPermaLink="false">https://ostif.org/?p=1875</guid>

					<description><![CDATA[After months of fundraising, we have reached our goal to fund the Unbound DNS audit! We would like to thank the primary supporters of this security review, Private Internet Access and Let&#8217;s Encrypt. Unbound DNS is DNS server software that offers both DNSSEC and DNS-over-TLS (aka DoT) functionality. It is used in hundreds of other [&#8230;]]]></description>
										<content:encoded><![CDATA[<p>After months of fundraising, we have reached our goal to fund the <a href="https://nlnetlabs.nl/projects/unbound/about/">Unbound DNS</a> audit!</p>
<p>We would like to thank the primary supporters of this security review, <a href="https://www.privateinternetaccess.com/">Private Internet Access</a> and <a href="https://letsencrypt.org/">Let&#8217;s Encrypt</a>.</p>
<p>Unbound DNS is DNS server software that offers both <a href="https://en.wikipedia.org/wiki/Domain_Name_System_Security_Extensions">DNSSEC</a> and <a href="https://en.wikipedia.org/wiki/DNS_over_TLS">DNS-over-TLS (aka DoT)</a> functionality. It is used in hundreds of other open source projects as a security anchor that prevents <a href="https://en.wikipedia.org/wiki/DNS_spoofing">DNS cache poisoning</a>. It is a crucial piece of infrastructure and a thorough security review will give us the broad assurances that the world needs to rely on Unbound.</p>
<p>The next steps for this project are to figure out the available dates for the team to do the security review, and make the initial payment for the work to be done. Then X41 D-Sec will carry out the audit and report their findings to the Unbound DNS security team for review and to assist with any potential fixes that are needed.</p>
<p>From there, patches will be created and once updates are pushed, we will proceed with releasing all of our results to the public.</p>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>We are Raising Money to Audit Unbound DNS</title>
		<link>https://ostif.org/we-are-raising-money-to-audit-unbound-dns/</link>
		
		<dc:creator><![CDATA[ostifadmin]]></dc:creator>
		<pubDate>Sat, 09 Feb 2019 01:20:45 +0000</pubDate>
				<category><![CDATA[Fundraiser]]></category>
		<category><![CDATA[Unbound DNS]]></category>
		<category><![CDATA[Audit]]></category>
		<category><![CDATA[dns]]></category>
		<category><![CDATA[fundraiser]]></category>
		<category><![CDATA[open source]]></category>
		<category><![CDATA[OSTIF]]></category>
		<category><![CDATA[security]]></category>
		<category><![CDATA[unbound]]></category>
		<category><![CDATA[x41-Dsec]]></category>
		<guid isPermaLink="false">https://ostif.org/?p=1681</guid>

					<description><![CDATA[We have just completed our review of OpenSSL 1.1.1 with QuarksLab, and we are moving on to our next big project, Unbound DNS! What is Unbound and Why is it Important? One of the core functions of the internet is domain name resolution. This means that when you type in a domain name like &#8220;ostif.org&#8221; [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p>We have just completed our review of <a href="https://ostif.org/the-ostif-and-quarkslab-audit-of-openssl-is-complete/">OpenSSL 1.1.1 with QuarksLab</a>, and we are moving on to our next big project, Unbound DNS!</p>



<h2 class="wp-block-heading"><br />What is Unbound and Why is it Important?</h2>



<p>One of the core functions of the internet is domain name resolution. This means that when you type in a domain name like &#8220;ostif.org&#8221; into your browser, your computer asks a <a href="https://en.wikipedia.org/wiki/Domain_Name_System">Domain Name Server</a> (DNS Server) where OSTIF.org is, and that server returns an address to your browser so that it knows where to go to load the site. This same system is used in apps, operating systems, and every web-connected service.</p>



<p>The entire DNS system is decades old and was not originally designed with security or privacy in mind. This means that DNS was designed as &#8220;connectionless&#8221; and without encryption. This opens up DNS to all kinds of problem like <a href="https://krebsonsecurity.com/tag/dns-reflection-attack/">DNS reflection attacks</a> (hijacking many DNS servers to knock down websites via a <a href="https://en.wikipedia.org/wiki/Denial-of-service_attack">Distributed Denial of Service attack</a>), <a href="https://en.wikipedia.org/wiki/DNS_spoofing">DNS Spoofing and DNS Poisoning</a> (an attacker intercepting your DNS requests and sending back malicious IP addresses), and wholesale surveillance (all DNS requests going through multiple parties on the web who can <a href="https://en.wikipedia.org/wiki/DNS_analytics">record every website you visit and every service you use</a>).</p>



<p>To fix this, standards have been developed to make DNS more trustworthy by encrypting the connections and verifying the data coming back from the servers is not from an interloper. <a href="https://en.wikipedia.org/wiki/Domain_Name_System_Security_Extensions">DNSSEC</a> and <a href="https://en.wikipedia.org/wiki/DNS_over_TLS">DNS over TLS</a> are the two major solutions used today.</p>



<p>The most popular open-source solution out there is <a href="https://nlnetlabs.nl/projects/unbound/about/">Unbound</a> by <a href="https://nlnetlabs.nl/">NLNetLabs</a>.</p>



<blockquote class="wp-block-quote">
<p>To help increase online privacy, Unbound supports <a href="https://tools.ietf.org/html/rfc7858">DNS-over-TLS</a> which allows clients to encrypt their communication. In addition, it supports various modern standards that limit the amount of data exchanged with authoritative servers. These standards do not only improve privacy but also help making the DNS more robust. The most important are <a href="https://tools.ietf.org/html/rfc7816">Query Name Minimisation</a>, the <a href="https://tools.ietf.org/html/rfc8198">Aggressive Use of DNSSEC-Validated Cache</a> and support for <a href="https://tools.ietf.org/html/rfc7706">authority zones</a>, which can be used to load a copy of the root zone.</p>
<cite>https://nlnetlabs.nl/projects/unbound/about</cite></blockquote>



<p>Not only is it widely used in many sites and services, but it is integrated into projects like <a href="https://letsencrypt.org/">Let&#8217;s Encrypt</a> that are increasing the security of the entire Internet through enabling widespread use of free security certificates for Domain Names. Let&#8217;s Encrypt serves over 150 million domain certificates that enable https on websites around the world.</p>



<h2 class="wp-block-heading">How Are We Collaborating?</h2>



<p>OSTIF and Unbound have been discussing their current security practices and potential improvements, as well as establishing secure communications with NLNetLabs for reporting issues. Now, we are raising money for a full security review of Unbound, which will be conducted with <a href="https://www.x41-dsec.de/">X41-Dsec in Germany</a>. After all issues are resolved we will publish the audit report for the public to review, and then Unbound will join our bug-bounty program to bring white-hat hackers around the world in to do continuous review of the code and locate further issues.</p>



<h2 class="wp-block-heading">How much do we need to raise?</h2>



<p>We need to raise approximately <strong>$139,000</strong> in total to cover the cost of the audit, the pool of money for the bug bounty system, and various operations costs (transaction fees on donations, etc). These numbers come from the size of the code base, the complexity of the code, the quality of the documentation on how the app works, and the current security practices which influence the scope of the audit.</p>



<h2 class="wp-block-heading">HOW TO GET INVOLVED!</h2>



<p>You can donate to us through a huge number of easy options <a href="https://ostif.org/donate-to-ostif/">here</a>. Recurring donations through <a href="https://www.paypal.com/donate/?token=-Lm4ufIoIVeBypaM9HgKtQOGXhNDuJbgMacyGeP-zT8KFI9pmdsOKu2Q50CtJDt5DbYQN0&amp;country.x=US&amp;locale.x=US">Paypal</a> or <a href="https://www.patreon.com/OSTIF">Patreon</a> help us more than one-time commitments, as recurring funding allows us to better budget and plan our finances. Every little bit helps. The community effect adds up to help us cover all of our operations costs and tech expenses!</p>



<p>More importantly, you can help spread the word about our work. These projects only succeed because people hear about us and get involved. We have an active twitter account <a href="https://twitter.com/ostifofficial?lang=en">@ostifofficial</a> and we are frequently on Reddit as <a href="https://www.reddit.com/user/ostifofficial">/u/ostifofficial</a>. Tell people about our project and that we are making the Internet a safer place for all of us.</p>



<p>Additionally, if you work for a company that utilizes open-source software like OpenVPN, OpenSSL, Unbound, Open Office, BitMessage, VeraCrypt, MariaDB or VLC Media Player, PHP, Apache, DD-WRT, or GnuPG GPA, encourage them to get involved in the effort. We have various support tiers that companies can join to both help us make the internet more secure while simultaneously improving their own security. Companies that get involved also get a direct line to our managers to help us select future projects and direct the organization through our advisory counsel and steering committees.</p>



<p>We are excited to bring Unbound onto OSTIF support! Let&#8217;s get this done!</p>



<p>&nbsp;</p>
]]></content:encoded>
					
		
		
			</item>
	</channel>
</rss>
