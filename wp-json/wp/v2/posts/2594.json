{"id":2594,"date":"2021-11-11T17:08:03","date_gmt":"2021-11-11T17:08:03","guid":{"rendered":"https:\/\/ostif.org\/?p=2594"},"modified":"2021-11-11T17:42:36","modified_gmt":"2021-11-11T17:42:36","slug":"our-audit-of-flux2-is-complete","status":"publish","type":"post","link":"https:\/\/ostif.org\/our-audit-of-flux2-is-complete\/","title":{"rendered":"Our Audit of Flux2 is Complete"},"content":{"rendered":"<p>We have been working with the team over at the <a href=\"https:\/\/github.com\/fluxcd\/flux2\">Flux<\/a> project on a security review and improving their tooling. The <a href=\"https:\/\/www.cncf.io\/\">Cloud Native Computing Foundation<\/a> contacted us a few months ago and wanted to facilitate both improving the testing infrastructure and to manually review Flux&#8217;s source code. We selected <a href=\"https:\/\/adalogics.com\/\">ADA Logics<\/a> to do both the fuzzing integration work and the security review.<\/p>\n<p>We are happy to report that our project has completed and Flux has its first CVE as a result! The bug allows an authenticated user with some specific permissions to escalate their privileges all the way to kubernetes cluster admin by injecting malicious shell scripts as Kubernetes Secrets in kustomize-controller. This issue impacts multiple large cloud vendors who have been notified to update. Flux version 1.18 and above contain the fix.<\/p>\n<p><a href=\"https:\/\/github.com\/fluxcd\/kustomize-controller\/security\/advisories\/GHSA-35rf-v2jv-gfg7\"><strong>CVE-2021-41254<\/strong>:<\/a> [Privilege escalation to cluster admin on multi-tenant Flux]<\/p>\n<p>ADA Logics and the Flux team were excellent to work with! Our collaborative work has led to multiple fixes, improved overall testing with continuous fuzzing by way of OSS-Fuzz, and the comprehensive report below. The Flux team also created a<a href=\"https:\/\/github.com\/orgs\/fluxcd\/projects\/5\"> public and easy to track dashboard showing all of the work we&#8217;ve done together<\/a> and is a fantastic example of good issue-tracking and remediation.<\/p>\n<p>A special thank you to the Cloud Native Computing Foundation for sponsoring this work and improving the security of Flux for everyone!<\/p>\n<p><a href=\"https:\/\/ostif.org\/wp-content\/uploads\/2021\/11\/FluxreportFinalV1.1.pdf\">Click here for the full report<\/a> (PDF)<\/p>\n<p>More information:<br \/>\n<a href=\"https:\/\/www.cncf.io\/blog\/2021\/11\/11\/flux-security-audit-has-concluded\/\">https:\/\/www.cncf.io\/blog\/2021\/11\/11\/flux-security-audit-has-concluded\/<\/a><br \/>\n<a href=\"https:\/\/fluxcd.io\/blog\/2021-11-10-flux-security-audit\/\">https:\/\/fluxcd.io\/blog\/2021-11-10-flux-security-audit\/<\/a><br \/>\n<a href=\"https:\/\/fluxcd.io\/security\/\">https:\/\/fluxcd.io\/security\/<\/a><br \/>\n<a href=\"https:\/\/github.com\/cncf\/toc\/blob\/main\/docs\/projects.md\">https:\/\/github.com\/cncf\/toc\/blob\/main\/docs\/projects.md<\/a><br \/>\n<a href=\"https:\/\/adalogics.com\/blog\/fluxcd-security-audit\">https:\/\/adalogics.com\/blog\/fluxcd-security-audit<\/a><\/p>\n","protected":false},"excerpt":{"rendered":"<p>We have been working with the team over at the Flux project on a security review and improving their tooling. The Cloud Native Computing Foundation contacted us a few months ago and wanted to facilitate both improving the testing infrastructure and to manually review Flux&#8217;s source code. We selected ADA Logics to do both the [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":2602,"comment_status":"closed","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":[],"categories":[155,69],"tags":[157,14,158,159,20,156,18],"_links":{"self":[{"href":"https:\/\/ostif.org\/wp-json\/wp\/v2\/posts\/2594"}],"collection":[{"href":"https:\/\/ostif.org\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/ostif.org\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/ostif.org\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/ostif.org\/wp-json\/wp\/v2\/comments?post=2594"}],"version-history":[{"count":13,"href":"https:\/\/ostif.org\/wp-json\/wp\/v2\/posts\/2594\/revisions"}],"predecessor-version":[{"id":2609,"href":"https:\/\/ostif.org\/wp-json\/wp\/v2\/posts\/2594\/revisions\/2609"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/ostif.org\/wp-json\/wp\/v2\/media\/2602"}],"wp:attachment":[{"href":"https:\/\/ostif.org\/wp-json\/wp\/v2\/media?parent=2594"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/ostif.org\/wp-json\/wp\/v2\/categories?post=2594"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/ostif.org\/wp-json\/wp\/v2\/tags?post=2594"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}