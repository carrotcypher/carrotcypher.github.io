{"id":2617,"date":"2022-06-06T19:00:24","date_gmt":"2022-06-06T19:00:24","guid":{"rendered":"https:\/\/ostif.org\/?p=2617"},"modified":"2022-06-06T21:51:22","modified_gmt":"2022-06-06T21:51:22","slug":"our-audit-of-cri-o-is-complete-high-severity-issues-found-and-fixed","status":"publish","type":"post","link":"https:\/\/ostif.org\/our-audit-of-cri-o-is-complete-high-severity-issues-found-and-fixed\/","title":{"rendered":"Our Audit of CRI-O is Complete &#8211; High Severity Issues Found and Fixed"},"content":{"rendered":"<p><span style=\"font-weight: 400;\">Open Source Technology Improvement Fund is thrilled to report the results of a security audit of <\/span><a href=\"https:\/\/github.com\/cri-o\/cri-o\"><span style=\"font-weight: 400;\">CRI-O<\/span><\/a><span style=\"font-weight: 400;\">. <\/span><span style=\"font-weight: 400;\">CRI-O<\/span><span style=\"font-weight: 400;\"> is an open source software (OSS) project <\/span><span style=\"font-weight: 400;\">that<\/span><span style=\"font-weight: 400;\"> is an implementation of the Kubernetes Container Runtime Interface.<\/span><span style=\"font-weight: 400;\"> It can run any OCI-compatible container, providing an enormous number of applications and environments.\u00a0<\/span><\/p>\n<p><span style=\"font-weight: 400;\">The primary security finding of the work is a single high-severity issue. A few minor issues were found as well, however, the Audit Team\u2019s view from completing this engagement is that CRI-O is a well-written project that has a high level of security assurance.<\/span><\/p>\n<p><span style=\"font-weight: 400;\">The high severity finding is a denial of service attack on a given cluster by way of resource exhaustion of nodes. The attack is performed by way of pod creation, which means any user that can create a pod can cause denial of service on the given node that is used for pod creation. The CVE for the this vulnerability is <\/span><span style=\"font-weight: 400;\">CVE-2022-1708 and Github advisory can be found here: <\/span><a href=\"https:\/\/github.com\/cri-o\/cri-o\/security\/advisories\/GHSA-fcm2-6c3h-pg6j\"><span style=\"font-weight: 400;\">https:\/\/github.com\/cri-o\/cri-o\/security\/advisories\/GHSA-fcm2-6c3h-pg6j<\/span><\/a><\/p>\n<p><span style=\"font-weight: 400;\">Interestingly, the denial of service attack also occurred in other container runtime interface implementations, most notably Containerd. Specifically, the exact same attack that exhausts memory in CRI-O can be used to exhaust memory of Containerd. The CVE for this issue in containerd is CVE-2022-31030\u00a0and the Github security advisory can be found here: <\/span><a href=\"https:\/\/github.com\/containerd\/containerd\/security\/advisories\/GHSA-5ffw-gxpp-mxpf\"><span style=\"font-weight: 400;\">https:\/\/github.com\/containerd\/containerd\/security\/advisories\/GHSA-5ffw-gxpp-mxpf<\/span><\/a><span style=\"font-weight: 400;\">\u00a0<\/span><\/p>\n<p><span style=\"font-weight: 400;\">Furthermore, an extensive fuzzing suite targeting the CRI-O infrastructure was integrated as a result of this engagement, providing long-lasting improvements to the security posture of the project.<\/span><\/p>\n<p><span style=\"font-weight: 400;\">Lastly, we commissioned <\/span><a href=\"https:\/\/www.chainguard.dev\/\"><span style=\"font-weight: 400;\">Chainguard<\/span><\/a><span style=\"font-weight: 400;\"> to perform a dedicated Supply Chain Security Assessment of CRI-O as part of the security audit. The assessment was designed to analyze CRI-O practices and recommend steps and strategies to increase <\/span><a href=\"https:\/\/slsa.dev\/\"><span style=\"font-weight: 400;\">SLSA compliance<\/span><\/a><span style=\"font-weight: 400;\">. The full assessment can be found in the report.\u00a0<\/span><\/p>\n<p><span style=\"font-weight: 400;\">Thank you to <\/span><a href=\"https:\/\/www.cncf.io\/\"><span style=\"font-weight: 400;\">Cloud Native Computing Foundation<\/span><\/a><span style=\"font-weight: 400;\"> (CNCF) for funding this audit and entrusting Open Source Technology Improvement Fund to facilitate it.\u00a0<\/span><\/p>\n<p><span style=\"font-weight: 400;\">Special thanks to David Korczynski and Adam Korczynski of <\/span><a href=\"https:\/\/adalogics.com\/\"><span style=\"font-weight: 400;\">Ada Logics<\/span><\/a><span style=\"font-weight: 400;\"> for auditing the software, Dan Lorenc and Adolfo Garc\u00eda Veytia of Chainguard, and to the CRI-O team\u2019s Peter Hunt and Mrunal Patel for their support.\u00a0<\/span><\/p>\n<p><span style=\"font-weight: 400;\">Everyone around the world depends on OSS. We\u2019d love to do more security audits to proactively find and fix vulnerabilities! If you\u2019re interested in financially supporting this work, contact <\/span><a href=\"mailto:amir@ostif.org\"><span style=\"font-weight: 400;\">amir@ostif.org<\/span><\/a><span style=\"font-weight: 400;\">.<\/span><\/p>\n<p><span style=\"font-weight: 400;\">References:\u00a0<\/span><\/p>\n<p>FULL AUDIT REPORT (PDF)<\/p>\n<p><a href=\"https:\/\/ostif.org\/wp-content\/uploads\/2022\/06\/CRI-O-audit-by-ada-logics-chainguard-ostif.pdf\">https:\/\/ostif.org\/wp-content\/uploads\/2022\/06\/CRI-O-audit-by-ada-logics-chainguard-ostif.pdf<\/a><\/p>\n<p>Announcement by Ada Logics<\/p>\n<p><a href=\"https:\/\/adalogics.com\/blog\/cri-o-security-engagement\">https:\/\/adalogics.com\/blog\/cri-o-security-engagement<\/a><\/p>\n<p><span style=\"font-weight: 400;\">Announcements by the Cloud Native Computing Foundation<\/span><\/p>\n<p><a href=\"https:\/\/www.cncf.io\/blog\/2022\/06\/06\/ostifs-audit-of-cri-o-is-complete-high-severity-issues-found-and-fixed\/\">https:\/\/www.cncf.io\/blog\/2022\/06\/06\/ostifs-audit-of-cri-o-is-complete-high-severity-issues-found-and-fixed\/<\/a><\/p>\n<p><a href=\"https:\/\/www.cncf.io\/blog\/2022\/06\/06\/ada-logics-cri-o-holistic-security-audit-engagement\/\">https:\/\/www.cncf.io\/blog\/2022\/06\/06\/ada-logics-cri-o-holistic-security-audit-engagement\/<\/a><\/p>\n<p>&nbsp;<\/p>\n<p>&nbsp;<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Open Source Technology Improvement Fund is thrilled to report the results of a security audit of CRI-O. CRI-O is an open source software (OSS) project that is an implementation of the Kubernetes Container Runtime Interface. It can run any OCI-compatible container, providing an enormous number of applications and environments.\u00a0 The primary security finding of the [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":2619,"comment_status":"closed","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":[],"categories":[155,69,160,60],"tags":[157,14,164,165,159,163,162,161,20],"_links":{"self":[{"href":"https:\/\/ostif.org\/wp-json\/wp\/v2\/posts\/2617"}],"collection":[{"href":"https:\/\/ostif.org\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/ostif.org\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/ostif.org\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/ostif.org\/wp-json\/wp\/v2\/comments?post=2617"}],"version-history":[{"count":8,"href":"https:\/\/ostif.org\/wp-json\/wp\/v2\/posts\/2617\/revisions"}],"predecessor-version":[{"id":2628,"href":"https:\/\/ostif.org\/wp-json\/wp\/v2\/posts\/2617\/revisions\/2628"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/ostif.org\/wp-json\/wp\/v2\/media\/2619"}],"wp:attachment":[{"href":"https:\/\/ostif.org\/wp-json\/wp\/v2\/media?parent=2617"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/ostif.org\/wp-json\/wp\/v2\/categories?post=2617"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/ostif.org\/wp-json\/wp\/v2\/tags?post=2617"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}